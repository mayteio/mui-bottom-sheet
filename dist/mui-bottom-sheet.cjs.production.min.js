"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),t=e(n),r=require("react-spring"),o=require("react-use-gesture"),i=e(require("react-use-measure")),a=require("@juggle/resize-observer");function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var c={backdrop:!0,background:null,defaultHeight:100,fullHeight:!0,hidden:!1,peekHeights:[],springConfig:r.config.stiff,styles:{root:{},backdrop:{},background:{}},threshold:70};exports.BottomSheet=function(e){var l=u({},c,{},e),d=l.backdrop,s=l.background,f=l.currentIndex,g=l.defaultHeight,h=l.fullHeight,p=l.hidden,b=l.onIndexChange,v=l.peekHeights,y=l.springConfig,m=l.styles,w=l.threshold,k={backdrop:{position:"fixed",bottom:0,left:0,right:0,top:0,zIndex:1198,backgroundColor:"rgba(0,0,0,0.3)"},background:{position:"fixed",zIndex:1199,left:0,top:0,width:"100%"},root:{background:"#fff",boxShadow:"0 -10px 20px rgba(0,0,0,0.3)",width:"100%",minHeight:g,maxHeight:"100%",position:"fixed",left:0,top:0,zIndex:1200}},x=function(e){return window.innerHeight-e},H=x(g),M=[H],E=i({polyfill:a.ResizeObserver}),O=E[0],j=E[1].height,I=0;j>window.innerHeight&&h&&M.push(0),j<window.innerHeight&&j>g&&(I=x(j),M.push(I)),null==v||v.sort().forEach((function(e){e<j&&e<window.innerHeight&&M.push(x(e))}));var q=n.useRef(null),z=r.useSpring((function(){return{y:H}})),C=z[0].y,S=z[1],T=o.useDrag((function(e){var n,t=e.last,r=e.cancel,o=e.movement[1],i=e.direction[0];if((i<-.8||i>.8)&&r&&r(),!(null==q||null===(n=q.current)||void 0===n?void 0:n.scrollTop)){if((o<0||o<Math.min.apply(Math,M)-w)&&r&&r(),t){var a=(u=o,M.reduce((function(e,n){return Math.abs(n-u)<Math.abs(e-u)?n:e})));return S({y:a,config:y}),void(b&&b(M.findIndex((function(e){return e===a}))))}var u;S({y:o,config:{duration:0}})}}),{initial:function(){var e;return[0,(null===(e=q.current)||void 0===e?void 0:e.scrollTop)?-q.current.scrollTop+Math.min.apply(Math,M):C.goal]},bounds:{top:0}});n.useEffect((function(){S({y:p?window.innerHeight+30:H,config:r.config.gentle})}),[p,S,H]);var N=C.to((function(e){return e<window.innerHeight+30?"block":"none"})),P=C.to((function(e){return e>Math.min.apply(Math,M)?"hidden":"scroll"})),R={y:C,display:N,overflowY:P},_=M.sort().reverse().find((function(e){return e!==H&&e<H})),B={opacity:C.to([_||0,H],[1,0]),display:C.to((function(e){return e<H&&d?"block":"none"}))},D={height:Math.min.apply(Math,M.filter((function(e){return e>0}))),y:C.to([].concat(M).reverse(),M.map((function(e,n,t){return n===t.length-1||n===t.length-2?window.innerHeight:0})),"clamp")};return n.useEffect((function(){void 0!==f&&C.goal!==M[f]&&(M[f]||console.warn("No stop exists for the index you set."),S({y:M[f],config:y}))}),[f,M,S,C]),t.createElement(t.Fragment,null,t.createElement(r.a.div,Object.assign({},T(),{ref:q,style:u({},k.root,{},m.root,{y:C},R)}),t.createElement("div",{ref:O},e.children)),s&&t.createElement(r.a.div,{style:u({},k.background,{},m.background,{},D),className:"background"},s),t.createElement(r.a.div,{style:u({},k.backdrop,{},m.backdrop,{},B)}))},exports.defaultOptions=c;
//# sourceMappingURL=mui-bottom-sheet.cjs.production.min.js.map
